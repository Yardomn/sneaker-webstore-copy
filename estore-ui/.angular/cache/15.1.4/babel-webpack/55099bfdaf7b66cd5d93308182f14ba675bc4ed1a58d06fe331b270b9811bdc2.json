{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../product.service\";\nimport * as i2 from \"../sharing-service\";\nimport * as i3 from \"../shopping-cart.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nfunction ProductsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 0)(1, \"label\", 4);\n    i0.ɵɵtext(2, \"Product name: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 5, 6);\n    i0.ɵɵelementStart(5, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_div_2_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const _r2 = i0.ɵɵreference(4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      ctx_r3.add(_r2.value);\n      return i0.ɵɵresetView(_r2.value = \"\");\n    });\n    i0.ɵɵtext(6, \" Add product \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductsComponent_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 8)(2, \"span\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementStart(5, \"span\", 9);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 9);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 9);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/detail/\", product_r5.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r5.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r5.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"price : \", product_r5.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"quantity : \", product_r5.quantity, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"description : \", product_r5.description, \"\");\n  }\n}\n/**\n * The data attached to the products component\n */\nexport class ProductsComponent {\n  /**\n   *  The constructor of the products componet\n   * @param productService - imported to aid the functions\n   * @param shareService - imported to aid the functions\n   * @param shoppingCartService - imported to aid the functions\n   */\n  constructor(productService, shareService, shoppingCartService) {\n    this.productService = productService;\n    this.shareService = shareService;\n    this.shoppingCartService = shoppingCartService;\n    this.products = [];\n    this.isLoggedIn = false;\n    this.isAdmin = false;\n  }\n  /**\n   * The function initializes the following data upon opening the page\n   */\n  ngOnInit() {\n    this.getProducts();\n    this.currentUser = this.shareService.getData();\n    if (this.currentUser) {\n      this.isLoggedIn = true;\n      if (this.currentUser.username === \"admin\") {\n        this.isAdmin = true;\n      }\n    }\n  }\n  /**\n   * The function serves to get the desired products when requested\n   */\n  getProducts() {\n    this.productService.getProducts().subscribe(products => this.products = products);\n  }\n  /**\n   * The function adds the product to the store\n   * @param name - the name of the product\n   */\n  add(name) {\n    name = name.trim();\n    if (!name) {\n      return;\n    }\n    this.productService.addProduct({\n      name\n    }).subscribe(product => {\n      this.products.push(product);\n    });\n  }\n  /**\n   * The function deletes the product from the store\n   * @param product - the product to be deleted\n   */\n  delete(product) {\n    this.products = this.products.filter(h => h !== product);\n    this.productService.deleteProduct(product.id).subscribe();\n  }\n  /**\n   * Adds a selected product to the cart\n   * @param product - the product to be added to the cart\n   */\n  addToCart(product) {\n    if (this.currentUser != undefined) {\n      this.shoppingCartService.addToCartMain(product);\n    }\n  }\n}\nProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n  return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.SharingService), i0.ɵɵdirectiveInject(i3.ShoppingCartService));\n};\nProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductsComponent,\n  selectors: [[\"app-products\"]],\n  decls: 5,\n  vars: 2,\n  consts: [[1, \"titles\"], [\"class\", \"titles\", 4, \"ngIf\"], [1, \"products\"], [4, \"ngFor\", \"ngForOf\"], [\"for\", \"new-product\"], [\"id\", \"new-product\"], [\"productName\", \"\"], [\"type\", \"button\", 1, \"add-button\", 3, \"click\"], [1, \"titles\", 3, \"routerLink\"], [1, \"badge\"]],\n  template: function ProductsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\", 0);\n      i0.ɵɵtext(1, \"Products\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, ProductsComponent_div_2_Template, 7, 0, \"div\", 1);\n      i0.ɵɵelementStart(3, \"ul\", 2);\n      i0.ɵɵtemplate(4, ProductsComponent_li_4_Template, 11, 6, \"li\", 3);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.RouterLink],\n  styles: [\".products[_ngcontent-%COMP%] {\\n    color: #4a0101;\\n    margin: 0 0 2em 0;\\n    list-style-type: none;\\n    padding: 0;\\n    width: 60em;\\n}\\n  .titles[_ngcontent-%COMP%]{\\n    color: #4a0101\\n  }\\n  input[_ngcontent-%COMP%] {\\n    display: block;\\n    width: 100%;\\n    padding: .5rem;\\n    margin: 1rem 0;\\n    box-sizing: border-box;\\n  }\\n  \\n  .heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n    position: relative;\\n    cursor: pointer;\\n  }\\n  \\n  .products[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover {\\n    left: .1em;\\n  }\\n  \\n  .products[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n    color: #000;\\n    background-color: #cfcfcf; \\n    text-decoration: none;\\n    margin: .5em;\\n    padding: .3em 0;\\n    height: 1.6em;\\n    border-radius: 4px;\\n    display: block;\\n    width: 100%;\\n  }\\n  \\n  .products[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n    color: #eee;\\n    background-color: #e84d4d;\\n    text-decoration: underline;\\n  }\\n  \\n  .products[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active {\\n    background-color: #525252;\\n    color: #fafafa;\\n  }\\n  \\n  .products[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%] {\\n    color: #eee;\\n    background-color: #7a0f0f;\\n    display: inline-block;\\n    font-size: small;\\n    font: Rockwell;\\n    padding: 0.8em 0.7em 0 0.7em;\\n    line-height: 1em;\\n    position: relative;\\n    left: -1px;\\n    top: -4px;\\n    height: 1.8em;\\n    min-width: 16px;\\n    text-align: right;\\n    margin-right: .8em;\\n    border-radius: 4px 0 0 4px;\\n  }\\n  \\n  .add-button[_ngcontent-%COMP%] {\\n    color: #eee;\\n    background-color: #696969;\\n   padding: .5rem 1.5rem;\\n   font-size: 1rem;\\n   font: Rockwell;\\n   margin-bottom: 2rem;\\n  }\\n  \\n  .add-button[_ngcontent-%COMP%]:hover {\\n    color: white;\\n    background-color: #e84d4d;\\n  }\\n  \\n  button.delete[_ngcontent-%COMP%] {\\n    position: absolute;\\n    left: 210px;\\n    top: 5px;\\n    background-color: white;\\n    color:  #525252;\\n    font-size: 1.1rem;\\n    font-family: Rockwell;\\n    font-weight: bold;\\n    margin: 0;\\n    padding: 1px 10px 3px 10px;\\n  }\\n  \\n  button.delete[_ngcontent-%COMP%]:hover {\\n    background-color: #525252;\\n    color: white;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdHMvcHJvZHVjdHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx5Q0FBeUM7QUFDekM7SUFDSSxjQUFjO0lBQ2QsaUJBQWlCO0lBQ2pCLHFCQUFxQjtJQUNyQixVQUFVO0lBQ1YsV0FBVztBQUNmO0VBQ0U7SUFDRTtFQUNGO0VBQ0E7SUFDRSxjQUFjO0lBQ2QsV0FBVztJQUNYLGNBQWM7SUFDZCxjQUFjO0lBQ2Qsc0JBQXNCO0VBQ3hCOztFQUVBO0lBQ0Usa0JBQWtCO0lBQ2xCLGVBQWU7RUFDakI7O0VBRUE7SUFDRSxVQUFVO0VBQ1o7O0VBRUE7SUFDRSxXQUFXO0lBQ1gseUJBQXlCLEVBQUUsZ0NBQWdDO0lBQzNELHFCQUFxQjtJQUNyQixZQUFZO0lBQ1osZUFBZTtJQUNmLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsY0FBYztJQUNkLFdBQVc7RUFDYjs7RUFFQTtJQUNFLFdBQVc7SUFDWCx5QkFBeUI7SUFDekIsMEJBQTBCO0VBQzVCOztFQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLGNBQWM7RUFDaEI7O0VBRUE7SUFDRSxXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLHFCQUFxQjtJQUNyQixnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLDRCQUE0QjtJQUM1QixnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixTQUFTO0lBQ1QsYUFBYTtJQUNiLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLDBCQUEwQjtFQUM1Qjs7RUFFQTtJQUNFLFdBQVc7SUFDWCx5QkFBeUI7R0FDMUIscUJBQXFCO0dBQ3JCLGVBQWU7R0FDZixjQUFjO0dBQ2QsbUJBQW1CO0VBQ3BCOztFQUVBO0lBQ0UsWUFBWTtJQUNaLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsUUFBUTtJQUNSLHVCQUF1QjtJQUN2QixlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLHFCQUFxQjtJQUNyQixpQkFBaUI7SUFDakIsU0FBUztJQUNULDBCQUEwQjtFQUM1Qjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QixZQUFZO0VBQ2QiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBIZXJvZXNDb21wb25lbnQncyBwcml2YXRlIENTUyBzdHlsZXMgKi9cbi5wcm9kdWN0cyB7XG4gICAgY29sb3I6ICM0YTAxMDE7XG4gICAgbWFyZ2luOiAwIDAgMmVtIDA7XG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgd2lkdGg6IDYwZW07XG59XG4gIC50aXRsZXN7XG4gICAgY29sb3I6ICM0YTAxMDFcbiAgfVxuICBpbnB1dCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogLjVyZW07XG4gICAgbWFyZ2luOiAxcmVtIDA7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuICBcbiAgLmhlcm9lcyBsaSB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuICBcbiAgLnByb2R1Y3RzIGxpOmhvdmVyIHtcbiAgICBsZWZ0OiAuMWVtO1xuICB9XG4gIFxuICAucHJvZHVjdHMgYSB7XG4gICAgY29sb3I6ICMwMDA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2NmY2ZjZjsgLyogbWFrZSB0aGlzIGEgdmVyeSBsaWdodCByZWQ/ICovXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIG1hcmdpbjogLjVlbTtcbiAgICBwYWRkaW5nOiAuM2VtIDA7XG4gICAgaGVpZ2h0OiAxLjZlbTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cbiAgXG4gIC5wcm9kdWN0cyBhOmhvdmVyIHtcbiAgICBjb2xvcjogI2VlZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTg0ZDRkO1xuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICB9XG4gIFxuICAucHJvZHVjdHMgYTphY3RpdmUge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM1MjUyNTI7XG4gICAgY29sb3I6ICNmYWZhZmE7XG4gIH1cbiAgXG4gIC5wcm9kdWN0cyAuYmFkZ2Uge1xuICAgIGNvbG9yOiAjZWVlO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM3YTBmMGY7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGZvbnQtc2l6ZTogc21hbGw7XG4gICAgZm9udDogUm9ja3dlbGw7XG4gICAgcGFkZGluZzogMC44ZW0gMC43ZW0gMCAwLjdlbTtcbiAgICBsaW5lLWhlaWdodDogMWVtO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBsZWZ0OiAtMXB4O1xuICAgIHRvcDogLTRweDtcbiAgICBoZWlnaHQ6IDEuOGVtO1xuICAgIG1pbi13aWR0aDogMTZweDtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBtYXJnaW4tcmlnaHQ6IC44ZW07XG4gICAgYm9yZGVyLXJhZGl1czogNHB4IDAgMCA0cHg7XG4gIH1cbiAgXG4gIC5hZGQtYnV0dG9uIHtcbiAgICBjb2xvcjogI2VlZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjk2OTY5O1xuICAgcGFkZGluZzogLjVyZW0gMS41cmVtO1xuICAgZm9udC1zaXplOiAxcmVtO1xuICAgZm9udDogUm9ja3dlbGw7XG4gICBtYXJnaW4tYm90dG9tOiAycmVtO1xuICB9XG4gIFxuICAuYWRkLWJ1dHRvbjpob3ZlciB7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlODRkNGQ7XG4gIH1cbiAgXG4gIGJ1dHRvbi5kZWxldGUge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAyMTBweDtcbiAgICB0b3A6IDVweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICBjb2xvcjogICM1MjUyNTI7XG4gICAgZm9udC1zaXplOiAxLjFyZW07XG4gICAgZm9udC1mYW1pbHk6IFJvY2t3ZWxsO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAxcHggMTBweCAzcHggMTBweDtcbiAgfVxuICBcbiAgYnV0dG9uLmRlbGV0ZTpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzUyNTI1MjtcbiAgICBjb2xvcjogd2hpdGU7XG4gIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAEAA,8BAAsC;IACXA,8BAAc;IAAAA,iBAAQ;IAC/CA,8BAAuC;IAGvCA,iCAAgG;IAAvDA;MAAAA;MAAA;MAAA;MAASC,qBAAsB;MAAA,OAAED,2BAAkB,EAAE;IAAA,EAAC;IAC7FA,6BACF;IAAAA,iBAAS;;;;;IAITA,0BAAqC;IAEbA,YAAc;IAAAA,iBAAO;IAACA,YAAiB;IAAAA,+BAAoB;IAAAA,YAA6B;IAAAA,iBAAO;IACnHA,+BAAoB;IAAAA,YAAmC;IAAAA,iBAAO;IAC9DA,+BAAoB;IAAAA,aAAyC;IAAAA,iBAAO;;;;IAHnEA,eAAmC;IAAnCA,sEAAmC;IAChBA,eAAc;IAAdA,mCAAc;IAAQA,eAAiB;IAAjBA,gDAAiB;IAAoBA,eAA6B;IAA7BA,uDAA6B;IACxFA,eAAmC;IAAnCA,6DAAmC;IACnCA,eAAyC;IAAzCA,mEAAyC;;;ACJnE;;;AAGA,OAAM,MAAOE,iBAAiB;EAK9B;;;;;;EAMEC,YAAoBC,cAA8B,EACxCC,YAA4B,EAC5BC,mBAAwC;IAF9B,mBAAc,GAAdF,cAAc;IACxB,iBAAY,GAAZC,YAAY;IACZ,wBAAmB,GAAnBC,mBAAmB;IAZ7B,aAAQ,GAAc,EAAE;IAExB,eAAU,GAAW,KAAK;IAC1B,YAAO,GAAW,KAAK;EAUjB;EAEN;;;EAGAC,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACC,WAAW,GAAE,IAAI,CAACJ,YAAY,CAACK,OAAO,EAAE;IAC7C,IAAG,IAAI,CAACD,WAAW,EAAC;MAClB,IAAI,CAACE,UAAU,GAAE,IAAI;MACrB,IAAG,IAAI,CAACF,WAAW,CAACG,QAAQ,KAAK,OAAO,EAAC;QACvC,IAAI,CAACC,OAAO,GAAE,IAAI;;;EAGxB;EACA;;;EAGAL,WAAW;IACT,IAAI,CAACJ,cAAc,CAACI,WAAW,EAAE,CAChCM,SAAS,CAACC,QAAQ,IAAI,IAAI,CAACA,QAAQ,GAAGA,QAAQ,CAAC;EAClD;EACA;;;;EAIAC,GAAG,CAACC,IAAY;IACdA,IAAI,GAAGA,IAAI,CAACC,IAAI,EAAE;IAClB,IAAI,CAACD,IAAI,EAAE;MAAE;;IACb,IAAI,CAACb,cAAc,CAACe,UAAU,CAAC;MAAEF;IAAI,CAAa,CAAC,CAChDH,SAAS,CAACM,OAAO,IAAG;MACnB,IAAI,CAACL,QAAQ,CAACM,IAAI,CAACD,OAAO,CAAC;IAC7B,CAAC,CAAC;EACN;EACA;;;;EAIAE,MAAM,CAACF,OAAgB;IACrB,IAAI,CAACL,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACQ,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKJ,OAAO,CAAC;IACxD,IAAI,CAAChB,cAAc,CAACqB,aAAa,CAACL,OAAO,CAACM,EAAE,CAAC,CAACZ,SAAS,EAAE;EAC3D;EACA;;;;EAIAa,SAAS,CAACP,OAAgB;IACxB,IAAG,IAAI,CAACX,WAAW,IAAImB,SAAS,EAAE;MAC9B,IAAI,CAACtB,mBAAmB,CAACuB,aAAa,CAACT,OAAO,CAAC;;EAErD;;AAhEWlB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAA4B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDhB9BlC,6BAAqB;MAAAA,wBAAQ;MAAAA,iBAAK;MAElCA,kEAQM;MAENA,6BAAqB;MACnBA,iEAMK;MACPA,iBAAK;;;MAlBCA,eAAa;MAAbA,kCAAa;MAWOA,eAAW;MAAXA,sCAAW","names":["i0","ctx_r3","ProductsComponent","constructor","productService","shareService","shoppingCartService","ngOnInit","getProducts","currentUser","getData","isLoggedIn","username","isAdmin","subscribe","products","add","name","trim","addProduct","product","push","delete","filter","h","deleteProduct","id","addToCart","undefined","addToCartMain","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/jackmigely/team-project-2225-swen-261-03-g-team0-1/estore-ui/src/app/products/products.component.html","/Users/jackmigely/team-project-2225-swen-261-03-g-team0-1/estore-ui/src/app/products/products.component.ts"],"sourcesContent":["<h2 class = \"titles\">Products</h2>\n\n<div *ngIf=\"isAdmin\" class = \"titles\">\n  <label for=\"new-product\">Product name: </label>\n  <input id=\"new-product\" #productName />\n\n  <!-- (click) passes input value to add() and then clears the input -->\n  <button type=\"button\" class=\"add-button\" (click)=\"add(productName.value); productName.value=''\">\n    Add product\n  </button>\n</div>\n\n<ul class=\"products\">\n  <li *ngFor=\"let product of products\">\n    <a routerLink=\"/detail/{{product.id}}\" class = \"titles\">\n      <span class=\"badge\">{{product.id}}</span> {{product.name}} <span class=\"badge\">price : {{  product.price  }}</span>\n      <span class=\"badge\">quantity : {{  product.quantity  }}</span>\n      <span class=\"badge\">description : {{  product.description  }}</span>  \n    </a>\n  </li>\n</ul>","import { Component, OnInit } from '@angular/core';\nimport { Login } from '../login';\nimport { Product } from '../product';\nimport { ProductService } from '../product.service';\nimport { SharingService } from '../sharing-service';\nimport { ShoppingCartService } from '../shopping-cart.service';\n\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\n/**\n * The data attached to the products component\n */\nexport class ProductsComponent implements OnInit {\n  products: Product[] = [];\n  currentUser: Login|undefined;\n  isLoggedIn: boolean= false;\n  isAdmin: boolean= false;\n/**\n *  The constructor of the products componet\n * @param productService - imported to aid the functions\n * @param shareService - imported to aid the functions\n * @param shoppingCartService - imported to aid the functions\n */\n  constructor(private productService: ProductService,\n    private shareService: SharingService,\n    private shoppingCartService: ShoppingCartService\n    ) { }\n    \n  /**\n   * The function initializes the following data upon opening the page\n   */\n  ngOnInit(): void {\n    this.getProducts();\n    this.currentUser= this.shareService.getData();\n    if(this.currentUser){\n      this.isLoggedIn= true;\n      if(this.currentUser.username === \"admin\"){\n        this.isAdmin= true;\n      }\n    }\n  }\n  /**\n   * The function serves to get the desired products when requested\n   */\n  getProducts(): void {\n    this.productService.getProducts()\n    .subscribe(products => this.products = products);\n  }\n  /**\n   * The function adds the product to the store\n   * @param name - the name of the product\n   */\n  add(name: string): void {\n    name = name.trim();\n    if (!name) { return; }\n    this.productService.addProduct({ name } as Product)\n      .subscribe(product => {\n        this.products.push(product);\n      });\n  }\n  /**\n   * The function deletes the product from the store\n   * @param product - the product to be deleted\n   */\n  delete(product: Product): void {\n    this.products = this.products.filter(h => h !== product);\n    this.productService.deleteProduct(product.id).subscribe();\n  }\n  /**\n   * Adds a selected product to the cart\n   * @param product - the product to be added to the cart\n   */\n  addToCart(product: Product): void {\n    if(this.currentUser != undefined) {\n        this.shoppingCartService.addToCartMain(product);\n    }\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}