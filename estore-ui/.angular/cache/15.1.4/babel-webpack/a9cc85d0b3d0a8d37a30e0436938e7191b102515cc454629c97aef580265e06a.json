{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../product.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../sharing-service\";\nimport * as i5 from \"../shopping-cart.service\";\nimport * as i6 from \"@angular/forms\";\nfunction ProductDetailComponent_div_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\", 5);\n    i0.ɵɵtext(2, \"Product name: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailComponent_div_0_div_4_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.product.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 7);\n    i0.ɵɵtext(5, \"Product price: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailComponent_div_0_div_4_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.product.price = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 7);\n    i0.ɵɵtext(8, \"Product quantity: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailComponent_div_0_div_4_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.product.quantity = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"label\", 7);\n    i0.ɵɵtext(11, \"Product description: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailComponent_div_0_div_4_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.product.description = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.product.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.product.price);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.product.quantity);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.product.description);\n  }\n}\nfunction ProductDetailComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 11);\n    i0.ɵɵelementStart(4, \"h3\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h3\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"h3\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Product name: \", ctx_r2.product.name, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Price: $\", ctx_r2.product.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Quantity: \", ctx_r2.product.quantity, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Description: \", ctx_r2.product.description, \"\");\n  }\n}\nfunction ProductDetailComponent_div_0_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_0_div_6_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.goBack());\n    });\n    i0.ɵɵtext(2, \"go back\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_0_div_6_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.save());\n    });\n    i0.ɵɵtext(4, \"save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_0_div_6_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.delete(ctx_r14.product));\n    });\n    i0.ɵɵtext(6, \"delete\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductDetailComponent_div_0_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_0_div_7_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.goBack());\n    });\n    i0.ɵɵtext(2, \"go back\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_0_div_7_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r17.addToCart(ctx_r17.product));\n    });\n    i0.ɵɵtext(4, \"Add To Cart\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductDetailComponent_div_0_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_0_div_12_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.goBack());\n    });\n    i0.ɵɵtext(2, \"go back\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h2\", 2);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ProductDetailComponent_div_0_div_4_Template, 13, 4, \"div\", 3);\n    i0.ɵɵtemplate(5, ProductDetailComponent_div_0_div_5_Template, 10, 4, \"div\", 4);\n    i0.ɵɵtemplate(6, ProductDetailComponent_div_0_div_6_Template, 7, 0, \"div\", 3);\n    i0.ɵɵtemplate(7, ProductDetailComponent_div_0_div_7_Template, 5, 0, \"div\", 3);\n    i0.ɵɵelementStart(8, \"div\", 2)(9, \"span\");\n    i0.ɵɵtext(10, \"id: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, ProductDetailComponent_div_0_div_12_Template, 3, 0, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(3, 7, ctx_r0.product.name), \" Details\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isAdmin);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isAdmin);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isAdmin);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isLoggedIn && !ctx_r0.isAdmin);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.product.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isLoggedIn);\n  }\n}\n/**\r\n * The data attached to the product-detal component\r\n */\nexport class ProductDetailComponent {\n  /**\r\n   * The constructor of the product-detal component\r\n   * @param route - imported to aid the functions\r\n   * @param productService - imported to aid the functions\r\n   * @param location - imported to aid the functions\r\n   * @param shareService - imported to aid the functions\r\n   * @param shoppingCartService - imported to aid the functions\r\n   */\n  constructor(route, productService, location, shareService, shoppingCartService) {\n    this.route = route;\n    this.productService = productService;\n    this.location = location;\n    this.shareService = shareService;\n    this.shoppingCartService = shoppingCartService;\n    this.products = [];\n    this.currentUser = undefined;\n    this.isLoggedIn = false;\n    this.isAdmin = false;\n  }\n  /**\r\n   * The function initializes the following data upon opening the page\r\n   */\n  ngOnInit() {\n    this.getProduct();\n    this.currentUser = this.shareService.getData();\n    this.currentUser = this.shareService.getData();\n    if (this.currentUser) {\n      this.isLoggedIn = true;\n      if (this.currentUser.username === \"admin\") {\n        this.isAdmin = true;\n      }\n    }\n    /*this.getImage();*/\n  }\n  /**\r\n   * The function is used to get a single desired product\r\n   */\n  getProduct() {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    this.productService.getProduct(id).subscribe(product => this.product = product);\n  }\n  /**\r\n   * The function serves as the operator of the go-back button\r\n   */\n  goBack() {\n    this.location.back();\n  }\n  /**\r\n   * The function saves the changes made to an element\r\n   */\n  save() {\n    if (this.product) {\n      this.productService.updateProduct(this.product).subscribe(() => this.goBack());\n    }\n  }\n  /**\r\n   * The function deletes a product from the store\r\n   * @param product - the product to be deleted\r\n   */\n  delete(product) {\n    this.products = this.products.filter(h => h !== product);\n    this.productService.deleteProduct(product.id).subscribe();\n  }\n  /**\r\n   * Adds a selected product to the cart\r\n   * @param product - the product to be added to the cart\r\n   *\r\n   */\n  addToCart(product) {\n    if (product.quantity == 0) {\n      window.alert(\"This product is currently out of stock\");\n    } else {\n      this.shoppingCartService.addToCartMain(product);\n    }\n  }\n  getImage() {\n    var name = this.product?.name;\n    console.log(name);\n    name?.replace(' ', '_');\n    const path = 'assets\\\\images\\\\' + name + '.png';\n    window.onload = function () {\n      document.getElementById('imagebox').innerHTML = '<img src=' + path + ' id=\"imageBox\" alt=\"Problem loading image\" height=200px/>';\n    };\n  }\n}\nProductDetailComponent.ɵfac = function ProductDetailComponent_Factory(t) {\n  return new (t || ProductDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ProductService), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i4.SharingService), i0.ɵɵdirectiveInject(i5.ShoppingCartService));\n};\nProductDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductDetailComponent,\n  selectors: [[\"app-product-detail\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"wrapper\", 4, \"ngIf\"], [1, \"wrapper\"], [1, \"titles\"], [4, \"ngIf\"], [\"class\", \"titles\", 4, \"ngIf\"], [\"for\", \"hero-name\"], [\"id\", \"product-name\", \"placeholder\", \"product name\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"product-price\"], [\"id\", \"product-name\", \"placeholder\", \"product price\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"product-name\", \"placeholder\", \"product quantity\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"product-name\", \"placeholder\", \"product description\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"imagebox\"], [\"type\", \"button\", 3, \"click\"], [\"type\", \"button\", \"title\", \"delete product\", 1, \"delete\", 3, \"click\"], [1, \"button\", 3, \"click\"]],\n  template: function ProductDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductDetailComponent_div_0_Template, 13, 9, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.product);\n    }\n  },\n  dependencies: [i3.NgIf, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel, i3.UpperCasePipe],\n  styles: [\".wrapper[_ngcontent-%COMP%]{\\r\\n  text-align: center;\\r\\n}\\r\\nlabel[_ngcontent-%COMP%] {\\r\\n    color: #4a0101;\\r\\n    font-weight: bold;\\r\\n  }\\r\\n  .titles[_ngcontent-%COMP%] {\\r\\n    color: #4a0101\\r\\n  }\\r\\n  input[_ngcontent-%COMP%] {\\r\\n    color: #4a0101;\\r\\n    font-size: 1em;\\r\\n    padding: .5rem;\\r\\n  }\\r\\n  button[_ngcontent-%COMP%] {\\r\\n    margin-top: 20px;\\r\\n    color: #E6E0C0;\\r\\n    background-color: #e84d4d;\\r\\n    padding: 1rem;\\r\\n    border-radius: 4px;\\r\\n    font-size: 1rem;\\r\\n  }\\r\\n  button[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #7a0f0f;\\r\\n    text-decoration: underline;\\r\\n  }\\r\\n  button[_ngcontent-%COMP%]:disabled {\\r\\n    background-color: #696969;\\r\\n    color: #E6E0C0;\\r\\n    cursor: auto;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdC1kZXRhaWwvcHJvZHVjdC1kZXRhaWwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2Q0FBNkM7QUFDN0M7RUFDRSxrQkFBa0I7QUFDcEI7QUFDQTtJQUNJLGNBQWM7SUFDZCxpQkFBaUI7RUFDbkI7RUFDQTtJQUNFO0VBQ0Y7RUFDQTtJQUNFLGNBQWM7SUFDZCxjQUFjO0lBQ2QsY0FBYztFQUNoQjtFQUNBO0lBQ0UsZ0JBQWdCO0lBQ2hCLGNBQWM7SUFDZCx5QkFBeUI7SUFDekIsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQixlQUFlO0VBQ2pCO0VBQ0E7SUFDRSx5QkFBeUI7SUFDekIsMEJBQTBCO0VBQzVCO0VBQ0E7SUFDRSx5QkFBeUI7SUFDekIsY0FBYztJQUNkLFlBQVk7RUFDZCIsInNvdXJjZXNDb250ZW50IjpbIi8qIEhlcm9EZXRhaWxDb21wb25lbnQncyBwcml2YXRlIENTUyBzdHlsZXMgKi9cclxuLndyYXBwZXJ7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcbmxhYmVsIHtcclxuICAgIGNvbG9yOiAjNGEwMTAxO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgfVxyXG4gIC50aXRsZXMge1xyXG4gICAgY29sb3I6ICM0YTAxMDFcclxuICB9XHJcbiAgaW5wdXQge1xyXG4gICAgY29sb3I6ICM0YTAxMDE7XHJcbiAgICBmb250LXNpemU6IDFlbTtcclxuICAgIHBhZGRpbmc6IC41cmVtO1xyXG4gIH1cclxuICBidXR0b24ge1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgIGNvbG9yOiAjRTZFMEMwO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U4NGQ0ZDtcclxuICAgIHBhZGRpbmc6IDFyZW07XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBmb250LXNpemU6IDFyZW07XHJcbiAgfVxyXG4gIGJ1dHRvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2EwZjBmO1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgfVxyXG4gIGJ1dHRvbjpkaXNhYmxlZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjk2OTY5O1xyXG4gICAgY29sb3I6ICNFNkUwQzA7XHJcbiAgICBjdXJzb3I6IGF1dG87XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductDetailComponent","constructor","route","productService","location","shareService","shoppingCartService","undefined","ngOnInit","getProduct","currentUser","getData","isLoggedIn","username","isAdmin","id","Number","snapshot","paramMap","get","subscribe","product","goBack","back","save","updateProduct","delete","products","filter","h","deleteProduct","addToCart","quantity","window","alert","addToCartMain","getImage","name","console","log","replace","path","onload","document","getElementById","innerHTML","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\raymo\\SWEN261\\team-project-2225-swen-261-03-g-team0\\estore-ui\\src\\app\\product-detail\\product-detail.component.html","C:\\Users\\raymo\\SWEN261\\team-project-2225-swen-261-03-g-team0\\estore-ui\\src\\app\\product-detail\\product-detail.component.ts"],"sourcesContent":["<div class=\"wrapper\" *ngIf=\"product\">\r\n    <!-- this displays each product and the information associated with it in a list-->\r\n    <h2 class = \"titles\">{{product.name | uppercase}} Details</h2>\r\n    \r\n    <div *ngIf=\"isAdmin\">\r\n      <!--should the user be an admin, they amay view extra details about the shoes here-->\r\n      <label for=\"hero-name\">Product name: </label>\r\n      <input id=\"product-name\" [(ngModel)]=\"product.name\" placeholder=\"product name\"/>\r\n      <label for=\"product-price\">Product price: </label>\r\n      <input id=\"product-name\" [(ngModel)]=\"product.price\" placeholder=\"product price\"/>\r\n      <label for=\"product-price\">Product quantity: </label>\r\n      <input id=\"product-name\" [(ngModel)]=\"product.quantity\" placeholder=\"product quantity\"/>\r\n      <label for=\"product-price\">Product description: </label>\r\n      <input id=\"product-name\" [(ngModel)]=\"product.description\" placeholder=\"product description\"/>\r\n    </div>\r\n    <div *ngIf=\"!isAdmin\" class=\"titles\">\r\n      <!--If the user is not an admin, they may view the price and details here, but they are unable to make changes to the items-->\r\n      <h3>Product name: {{product.name}}</h3>\r\n      <div id=\"imagebox\"></div>\r\n      <script type=\"text/javascript\">\r\n        getImage();\r\n      </script>\r\n      <h3>Price: ${{product.price}}</h3>\r\n      <h3>Quantity: {{product.quantity}}</h3>\r\n      <h3>Description: {{product.description}}</h3>\r\n    </div>\r\n    <div *ngIf=\"isAdmin\">\r\n      <!--If the user is an admin, they may make changes to the products as they wish here, but can not add items to the cart-->\r\n      <button type=\"button\" (click)=\"goBack()\">go back</button>\r\n      <button type=\"button\" (click)=\"save()\">save</button>\r\n      <button type=\"button\" class=\"delete\" title=\"delete product\"\r\n      (click)=\"delete(product)\">delete</button>\r\n    </div>\r\n    <div *ngIf=\"isLoggedIn && !isAdmin\">\r\n      <!--If the user is logged in as a customer, they will be able to add items to the cart-->\r\n      <button type=\"button\" (click)=\"goBack()\">go back</button>\r\n      <button class=\"button\" (click)=\"addToCart(product)\">Add To Cart</button>\r\n    </div>\r\n    <div class = \"titles\"><span>id: </span>{{product.id}}</div>\r\n    <div *ngIf=\"!isLoggedIn\">\r\n      <button type=\"button\" (click)=\"goBack()\">go back</button>\r\n    </div>\r\n</div>","import { Component, Input } from '@angular/core';\r\n\r\nimport { Product } from '../product';\r\n\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\n\r\nimport { ProductService } from '../product.service';\r\nimport { Login } from '../login';\r\nimport { SharingService } from '../sharing-service';\r\nimport { ShoppingCartService } from '../shopping-cart.service';\r\n\r\n@Component({\r\n  selector: 'app-product-detail',\r\n  templateUrl: './product-detail.component.html',\r\n  styleUrls: ['./product-detail.component.css']\r\n})\r\n/**\r\n * The data attached to the product-detal component\r\n */\r\nexport class ProductDetailComponent {\r\n\r\n  product: Product | undefined;\r\n  products: Product[] = [];\r\n  currentUser: Login|undefined= undefined;\r\n  isLoggedIn: boolean= false;\r\n  isAdmin: boolean= false;\r\n/**\r\n * The constructor of the product-detal component\r\n * @param route - imported to aid the functions\r\n * @param productService - imported to aid the functions\r\n * @param location - imported to aid the functions\r\n * @param shareService - imported to aid the functions\r\n * @param shoppingCartService - imported to aid the functions\r\n */\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private productService: ProductService,\r\n    private location: Location,\r\n    private shareService: SharingService,\r\n    private shoppingCartService: ShoppingCartService\r\n  ) {}\r\n  \r\n  /**\r\n   * The function initializes the following data upon opening the page\r\n   */\r\n  ngOnInit(): void {\r\n    this.getProduct();\r\n    this.currentUser= this.shareService.getData();\r\n    this.currentUser= this.shareService.getData();\r\n    if(this.currentUser){\r\n      this.isLoggedIn= true;\r\n      if(this.currentUser.username === \"admin\"){\r\n        this.isAdmin= true;\r\n      }\r\n    }\r\n    /*this.getImage();*/\r\n  }\r\n  /**\r\n   * The function is used to get a single desired product\r\n   */\r\n  getProduct(): void {\r\n    const id = Number(this.route.snapshot.paramMap.get('id'));\r\n    this.productService.getProduct(id)\r\n      .subscribe(product => this.product = product);\r\n  }\r\n\r\n  /**\r\n   * The function serves as the operator of the go-back button\r\n   */\r\n  goBack(): void {\r\n    this.location.back();\r\n  }\r\n\r\n  /**\r\n   * The function saves the changes made to an element\r\n   */\r\n  save(): void {\r\n    if (this.product) {\r\n      this.productService.updateProduct(this.product)\r\n        .subscribe(() => this.goBack());\r\n    }\r\n  }\r\n  /**\r\n   * The function deletes a product from the store\r\n   * @param product - the product to be deleted\r\n   */\r\n  delete(product: Product): void {\r\n    this.products = this.products.filter(h => h !== product);\r\n    this.productService.deleteProduct(product.id).subscribe();\r\n  }\r\n\r\n  /**\r\n   * Adds a selected product to the cart\r\n   * @param product - the product to be added to the cart\r\n   * \r\n   */\r\n  addToCart(product: Product) {\r\n    if (product.quantity == 0) {\r\n      window.alert(\"This product is currently out of stock\");\r\n    }\r\n    else {\r\n      this.shoppingCartService.addToCartMain(product);\r\n    }\r\n  }\r\n\r\n  getImage(): void{\r\n    var name = (this.product)?.name;\r\n    console.log(name);\r\n    name?.replace(' ', '_');\r\n    const path = 'assets\\\\images\\\\' + name + '.png';\r\n    window.onload = function() {\r\n      document.getElementById('imagebox').innerHTML = '<img src='+path+' id=\"imageBox\" alt=\"Problem loading image\" height=200px/>';\r\n    };\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}