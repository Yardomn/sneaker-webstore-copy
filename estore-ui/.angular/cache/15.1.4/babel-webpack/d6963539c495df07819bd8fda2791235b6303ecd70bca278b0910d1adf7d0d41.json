{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../product.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../sharing-service\";\nimport * as i5 from \"@angular/forms\";\nfunction ProductDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\")(5, \"span\");\n    i0.ɵɵtext(6, \"id: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\")(9, \"label\", 1);\n    i0.ɵɵtext(10, \"Product name: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 2);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailComponent_div_0_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.product.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"label\", 3);\n    i0.ɵɵtext(13, \"Product price: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 4);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailComponent_div_0_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.product.price = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"label\", 3);\n    i0.ɵɵtext(16, \"Product quantity: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailComponent_div_0_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.product.quantity = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"label\", 3);\n    i0.ɵɵtext(19, \"Product description: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailComponent_div_0_Template_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.product.description = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_0_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.goBack());\n    });\n    i0.ɵɵtext(22, \"go back\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_0_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.save());\n    });\n    i0.ɵɵtext(24, \"save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_div_0_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.delete(ctx_r8.product));\n    });\n    i0.ɵɵtext(26, \"delete\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(3, 6, ctx_r0.product.name), \" Details\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.product.id);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.product.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.product.price);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.product.quantity);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.product.description);\n  }\n}\nexport class ProductDetailComponent {\n  constructor(route, productService, location, shareService) {\n    this.route = route;\n    this.productService = productService;\n    this.location = location;\n    this.shareService = shareService;\n    this.products = [];\n    this.currentUser = undefined;\n    this.isLoggedIn = false;\n    this.isAdmin = false;\n  }\n  ngOnInit() {\n    this.getProduct();\n    this.currentUser = this.shareService.getData();\n    this.currentUser = this.shareService.getData();\n    if (this.currentUser) {\n      this.isLoggedIn = true;\n      if (this.currentUser.username === \"admin\") {\n        this.isAdmin = true;\n      }\n    }\n  }\n  getProduct() {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    this.productService.getProduct(id).subscribe(product => this.product = product);\n  }\n  goBack() {\n    this.location.back();\n  }\n  save() {\n    if (this.product) {\n      this.productService.updateProduct(this.product).subscribe(() => this.goBack());\n    }\n  }\n  delete(product) {\n    this.products = this.products.filter(h => h !== product);\n    this.productService.deleteProduct(product.id).subscribe();\n  }\n}\nProductDetailComponent.ɵfac = function ProductDetailComponent_Factory(t) {\n  return new (t || ProductDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ProductService), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i4.SharingService));\n};\nProductDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductDetailComponent,\n  selectors: [[\"app-product-detail\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [\"for\", \"hero-name\"], [\"id\", \"product-name\", \"placeholder\", \"product name\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"product-price\"], [\"id\", \"product-name\", \"placeholder\", \"product price\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"product-name\", \"placeholder\", \"product quantity\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"product-name\", \"placeholder\", \"product description\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 3, \"click\"], [\"type\", \"button\", \"title\", \"delete product\", 1, \"delete\", 3, \"click\"]],\n  template: function ProductDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductDetailComponent_div_0_Template, 27, 8, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.product);\n    }\n  },\n  dependencies: [i3.NgIf, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i3.UpperCasePipe],\n  styles: [\"label[_ngcontent-%COMP%] {\\n    color: #435960;\\n    font-weight: bold;\\n  }\\n  input[_ngcontent-%COMP%] {\\n    font-size: 1em;\\n    padding: .5rem;\\n  }\\n  button[_ngcontent-%COMP%] {\\n    margin-top: 20px;\\n    background-color: #eee;\\n    padding: 1rem;\\n    border-radius: 4px;\\n    font-size: 1rem;\\n  }\\n  button[_ngcontent-%COMP%]:hover {\\n    background-color: #cfd8dc;\\n  }\\n  button[_ngcontent-%COMP%]:disabled {\\n    background-color: #eee;\\n    color: #ccc;\\n    cursor: auto;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdC1kZXRhaWwvcHJvZHVjdC1kZXRhaWwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2Q0FBNkM7QUFDN0M7SUFDSSxjQUFjO0lBQ2QsaUJBQWlCO0VBQ25CO0VBQ0E7SUFDRSxjQUFjO0lBQ2QsY0FBYztFQUNoQjtFQUNBO0lBQ0UsZ0JBQWdCO0lBQ2hCLHNCQUFzQjtJQUN0QixhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLGVBQWU7RUFDakI7RUFDQTtJQUNFLHlCQUF5QjtFQUMzQjtFQUNBO0lBQ0Usc0JBQXNCO0lBQ3RCLFdBQVc7SUFDWCxZQUFZO0VBQ2QiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBIZXJvRGV0YWlsQ29tcG9uZW50J3MgcHJpdmF0ZSBDU1Mgc3R5bGVzICovXG5sYWJlbCB7XG4gICAgY29sb3I6ICM0MzU5NjA7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIH1cbiAgaW5wdXQge1xuICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgIHBhZGRpbmc6IC41cmVtO1xuICB9XG4gIGJ1dHRvbiB7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xuICAgIHBhZGRpbmc6IDFyZW07XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgfVxuICBidXR0b246aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNjZmQ4ZGM7XG4gIH1cbiAgYnV0dG9uOmRpc2FibGVkIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xuICAgIGNvbG9yOiAjY2NjO1xuICAgIGN1cnNvcjogYXV0bztcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductDetailComponent","constructor","route","productService","location","shareService","undefined","ngOnInit","getProduct","currentUser","getData","isLoggedIn","username","isAdmin","id","Number","snapshot","paramMap","get","subscribe","product","goBack","back","save","updateProduct","delete","products","filter","h","deleteProduct","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/jackmigely/team-project-2225-swen-261-03-g-team0-1/estore-ui/src/app/product-detail/product-detail.component.html","/Users/jackmigely/team-project-2225-swen-261-03-g-team0-1/estore-ui/src/app/product-detail/product-detail.component.ts"],"sourcesContent":["<div *ngIf=\"product\">\n    <h2>{{product.name | uppercase}} Details</h2>\n    <div><span>id: </span>{{product.id}}</div>\n    <div>\n      <label for=\"hero-name\">Product name: </label>\n      <input id=\"product-name\" [(ngModel)]=\"product.name\" placeholder=\"product name\"/>\n      <label for=\"product-price\">Product price: </label>\n      <input id=\"product-name\" [(ngModel)]=\"product.price\" placeholder=\"product price\"/>\n      <label for=\"product-price\">Product quantity: </label>\n      <input id=\"product-name\" [(ngModel)]=\"product.quantity\" placeholder=\"product quantity\"/>\n      <label for=\"product-price\">Product description: </label>\n      <input id=\"product-name\" [(ngModel)]=\"product.description\" placeholder=\"product description\"/>\n      \n    </div>\n    <button type=\"button\" (click)=\"goBack()\">go back</button>\n    <button type=\"button\" (click)=\"save()\">save</button>\n    <button type=\"button\" class=\"delete\" title=\"delete product\"\n      (click)=\"delete(product)\">delete</button>\n  \n  </div>","import { Component, Input } from '@angular/core';\n\nimport { Product } from '../product';\n\nimport { ActivatedRoute } from '@angular/router';\nimport { Location } from '@angular/common';\n\nimport { ProductService } from '../product.service';\nimport { Login } from '../login';\nimport { SharingService } from '../sharing-service';\n\n@Component({\n  selector: 'app-product-detail',\n  templateUrl: './product-detail.component.html',\n  styleUrls: ['./product-detail.component.css']\n})\nexport class ProductDetailComponent {\n\n  product: Product | undefined;\n  products: Product[] = [];\n  currentUser: Login|undefined= undefined;\n  isLoggedIn: boolean= false;\n  isAdmin: boolean= false;\n\n  constructor(\n    private route: ActivatedRoute,\n    private productService: ProductService,\n    private location: Location,\n    private shareService: SharingService\n  ) {}\n  \n  ngOnInit(): void {\n    this.getProduct();\n    this.currentUser= this.shareService.getData();\n    this.currentUser= this.shareService.getData();\n    if(this.currentUser){\n      this.isLoggedIn= true;\n      if(this.currentUser.username === \"admin\"){\n        this.isAdmin= true;\n      }\n    }\n  }\n  \n  getProduct(): void {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    this.productService.getProduct(id)\n      .subscribe(product => this.product = product);\n  }\n\n  goBack(): void {\n    this.location.back();\n  }\n\n  save(): void {\n    if (this.product) {\n      this.productService.updateProduct(this.product)\n        .subscribe(() => this.goBack());\n    }\n  }\n  delete(product: Product): void {\n    this.products = this.products.filter(h => h !== product);\n    this.productService.deleteProduct(product.id).subscribe();\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}